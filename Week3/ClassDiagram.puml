@startuml SIS

interface IUser{
    +Login() : bool
    +ShowMenu() : void
}

abstract class IPerson{
    -firstName : string
    -lastName : string
    -email : string
    -phoneNumber : string
    +GetFullName() : string
}

class Student {
    -studentNumber : uint
    -applications : List<Application>
    -assignment : Assignment

    +Student(studentNumber: uint, firstName: string, lastName: string, email : string, phoneNumber:string)

    +GetAvailableInternship(period: Period, category: Internship_Category) : List<Internship>
    +ApplyForInternship(internship: Internship) : Application
    +GetApplications() : List<Application>
    +HasApplied(period : Period) : bool

    +Login(): bool
    +ShowMenu(): void
}

class Coordinator {
    +Coordinator(firstName : string, lastName : string, email : string, phoneNumber : string)

    `return true if approved, false otherwise
    +ProcessAssignment(application : Application) : 
    +AssignStudentToInternship(student : Student, internship : Internship) : void
    +MarkInternshipCompleted(internship : Internship, finalGrade : float) : void

    +AddOrganisation(org : Organization) : bool
    +RemoveOrganisation(orgId : int) : bool
    +ListOrganisations() : List<Organization>

    +AddInternship(internship : Internship, orgId : int) : void
    +WithdrawInternship(internshipId : int) : void
    +ListInternships(period : Period, category : Internship_Category) : List<Internship>
    +GetContactPersons(internshipId : int) : List<Contact_person>

    +Login(): bool
    +ShowMenu(): void
}

IUser <|.. Student
IUser <|.. Coordinator

IPerson <|-- Student
IPerson <|-- Coordinator


class Organization {
    Id: int
    name : string
    address : string
    phoneNumber : string
    email : string
    url : string
    contact : Contact_person
    +GetIdentifer() : int
}

class Contact_person {
    functionTitle : string
    departmentName : string
    + Contact_person(firstName : string, lastName : string, email : string, phoneNumber : string, functionTitle : string, departmentName : string)
    + GetContactInfo() : string
}

IPerson <|-- Contact_person

class Company
class Research_group
class Educational_institute

Organization <|-- Company
Organization <|-- Research_group
Organization <|-- Educational_institute

class Period {
    - year : int
    - semester : int  ' 1 or 2
}

enum InternshipCategory {
    INTERMEDIATE
    MINOR
    GRADUATION
}

class Internship {
    - id : int
    - dateOfSubmission : DateTime
    - projectTitle : string
    - shortDescription : string
    - longDescription : string
    - finalGrade : float
    - status : InternshipStatus
    - capacity : int      
    - assignedStudents : List<Student>

    + GetOverview() : string
}

enum InternshipStatus {
    OPEN
    WITHDRAWN
    ASSIGNED
    COMPLETED
}

Internship --> Period
Internship --> Organization

Internship "1" o-- "1..*" Contact_person : contactPersons

Organization "1" o-- "0..*" Internship : internships

class Application {
    - applicationId : int
    - submittedAt : DateTime
    - status : ApplicationStatus
    - motivation : string

    + GetSummary() : string
}

enum ApplicationStatus {
    SUBMITTED
    APPROVED
    REJECTED
}

Student "1" o-- "0..*" Application : applications
Application "0..*" --> "1" Internship
Application "0..*" --> "1" Student

class Assignment {
    - description : string
    + GetDescription() : string
}
Assignment o-- Student

class Research_assignment
class Minor_assignment {
    - minor : Minor
}
class Engineering_assignment

Assignment <|-- Research_assignment
Assignment <|-- Minor_assignment
Assignment <|-- Engineering_assignment

class Minor {
    - moduleName : string
}
Minor <-- Minor_internship
Minor o- Minor_assignment

class Intermediate_internship
class Minor_internship
class Graduation_internship

Internship <|-- Intermediate_internship
Internship <|-- Minor_internship
Internship <|-- Graduation_internship

@enduml